<app-navbar></app-navbar>
<div class="flex flex-col items-center min-h-screen bg-gray-50 pt-8">
  <div class="w-full max-w-4xl bg-white rounded-lg shadow-md p-8 mb-8 mt-8">
    <h2 class="text-2xl font-semibold mb-6 text-center">Users list</h2>
    <div class="overflow-x-auto">
      <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-gray-100">
          <tr>
            <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Username</th>
            <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Firstname</th>
            <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Lastname</th>
            <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Email</th>
            <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Role</th>
          </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-200">
          @if (userPage?.content) {
            @for (user of userPage?.content; track user) {
              <tr>
                <td class="px-4 py-2 whitespace-nowrap">{{ user.username }}</td>
                <td class="px-4 py-2 whitespace-nowrap">{{ user.firstname }}</td>
                <td class="px-4 py-2 whitespace-nowrap">{{ user.lastname }}</td>
                <td class="px-4 py-2 whitespace-nowrap">{{ user.email }}</td>
                <td class="px-4 py-2 whitespace-nowrap">{{ user.role }}</td>
              </tr>
            }
          }
        </tbody>
      </table>
    </div>
    <!-- Pagination -->
    <div class="flex justify-center items-center mt-6 space-x-2">
      <button (click)="prevPage()" [disabled]="page === 0"
              class="px-3 py-1 rounded bg-gray-200 text-gray-700 hover:bg-gray-300 transition disabled:opacity-50 disabled:cursor-not-allowed">
        Previous
      </button>
      <span class="px-3 py-1 text-gray-600 font-medium">Page {{ page + 1 }}</span>
      <button (click)="nextPage()" [disabled]="!userPage?.content || userPage?.last === true"
              class="px-3 py-1 rounded bg-gray-200 text-gray-700 hover:bg-gray-300 transition disabled:opacity-50 disabled:cursor-not-allowed">
        Next
      </button>
    </div>
  </div>
  <button (click)="test()">Create event</button>
</div>
<app-modal [isOpen]="isModalOpen" (close)="closeModal()">
  <app-event-form [token]="token"></app-event-form>
</app-modal>
